# API SpravPortal - Кто звонит
Документация к API сервиса "SpravPortal - Кто звонит" (SpravPortal WhoCalls API) для проверки номеров телефонов на спам.
Версия API 1.0.25 (01.08.2024)

Официальная страница сервиса: https://www.spravportal.ru/api/whocalls

# Описание API

API SpravPortal WhoCalls предоставляет возможность проверки телефонного номера на спам, включая мошеннические действия 

### Адрес сервиса

Адрес сервиса предоставляется вместе с ключом API.

### Конечная точка

`GET /check-spam/{phoneNumber}`

### Параметры запроса

- `phoneNumber` (integer): Телефонный номер, который необходимо проверить на спам в международном формате (вида 79001234567)
- `apiKey` (string): Ключ API для авторизации. Должен быть передан в строке запроса.

#### Пример запроса

```http
GET /check-spam/79885704681?apiKey=42TjdHRi9Usw
```

#### Пример запроса в формате CURL

```curl
curl --location 'https://<адрес_сервиса>/check-spam/79885704681?apiKey=42TjdHRi9Usw'
```

### Формат ответа

Успешный ответ возвращает JSON объект со следующими полями:

- `isSpam` (bool): Указывает, является ли номер спамом.
- `categories` (array): Список категорий телефонного номера.
- `phoneNumber` (string): Проверяемый телефонный номер.
- `requests` (int): Остаток доступных запросов по API ключу.

#### Пример успешного ответа

```json
{
    "isSpam": true,
    "categories": [
        "Телефонное мошенничество",
        "Другое"
    ],
    "phoneNumber": "79885704681",
    "requests": 91
}
```

### Коды ответов

- `200 OK`: Запрос успешно обработан, возвращает результат проверки.
- `401 Unauthorized`: Неверный API ключ.
- `429 Too Many Requests`: Превышено количество доступных запросов для данного API ключа либо кол-во запросов в интервал времени (зависит от тарфиного плана).

### Примеры ответов

#### Пример ответа при неверном API ключе

```json
{
    "errorMessage": "Invalid API key"
}
```

#### Пример ответа при превышении лимита запросов

```json
{
    "errorMessage": "API Key limit reached"
}
```

### Ограничения

- Каждый ключ API имеет ограничения в соответствии с тарифамным планом.
- Тестовые ключи могут иметь собственные ограничения.

### Как получить тестовый ключ

- Для получения тестового ключа напишите на адрес api@spravportal.ru с корпоративного адреса электронной почты с указанием названия организации, ее ИНН, кратким описанием задачи, которую планируется решать с помощью сервиса либо запросите ключ со страницы https://www.spravportal.ru/api/whocalls

